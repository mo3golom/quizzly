let timeouts=[],playPageQuestionFormPromise=null;function clearTimeouts(){timeouts.forEach(e=>clearTimeout(e)),timeouts=[]}function scrollToTop(){window.scrollTo(0,0)}function initPlayPageQuestionForm(){let s=document.getElementById("play-page-question-form");if(null!=s){let a=document.getElementById("play-page-submit-button"),i=document.getElementById("play-page-submit"),o=s.querySelector('input[type="text"]');o&&o.addEventListener("input",function(){0<o.value.trim().length?(a.disabled=!1,i.classList.remove("hidden","opacity-0"),i.classList.add("animate-fade-in-up")):(a.disabled=!0,i.classList.add("hidden","opacity-0"),i.classList.remove("animate-fade-in-up"))}),s.addEventListener("change",function(){var e=s.querySelector('input[type="checkbox"]:checked, input[type="radio"]:checked'),t=!!o&&0<o.value.trim().length;e||t?(a.disabled=!1,i.classList.remove("hidden","opacity-0"),i.classList.add("animate-fade-in-up")):(a.disabled=!0,i.classList.add("hidden","opacity-0"),i.classList.remove("animate-fade-in-up"))})}}function beforeRequestPlayPageQuestionForm(e){var t=document.getElementById("game-page-overlay");t.classList.remove("hidden"),t.classList.add("opacity-0"),t.offsetHeight,t.classList.add("opacity-100"),t.classList.remove("opacity-0"),playPageQuestionFormPromise=new Promise(e=>{setTimeout(()=>{e()},300)})}function afterRequestPlayPageQuestionForm(e){playPageQuestionFormPromise&&(e.preventDefault(),playPageQuestionFormPromise.then(()=>{htmx.swap(e.detail.target,e.detail.xhr.response,{swapStyle:"outerHTML"})}).finally(()=>{playPageQuestionFormPromise=null}))}function showAnswerResult(){var e=document.getElementById("game-page-answer-read-estimation"),e=e?parseInt(e.value):1500,e=Math.max(1500,e);clearTimeouts(),hideAnswerResult(e,300)}function hideAnswerResult(e,t){let a=document.getElementById("game-page-answer-result");var i=document.getElementById("game-page-overlay");i.classList.remove("opacity-100"),i.classList.add("hidden","opacity-0"),timeouts.push(setTimeout(()=>{a.classList.add("opacity-0"),a.classList.remove("opacity-100","animate-pulse-fade-in")},e-t)),timeouts.push(setTimeout(()=>{a.classList.add("hidden");var e=document.getElementById("game-page-results-link");null!==e&&(window.location=e.value)},e))}function fire(){var e={origin:{y:.9}};confetti({...e,spread:26,startVelocity:55,particleCount:Math.floor(50)}),confetti({...e,spread:60,particleCount:Math.floor(40)}),confetti({...e,spread:100,decay:.91,scalar:.8,particleCount:Math.floor(70)}),confetti({...e,spread:120,startVelocity:25,decay:.92,scalar:1.2,particleCount:Math.floor(20)}),confetti({...e,spread:120,startVelocity:45,particleCount:Math.floor(20)})}function connectToGame(){var e=document.getElementById("game-start-page-game-id").value;""!==e&&(window.location="/game/"+e)}function copyShareResultsBlock(e){e=e.getAttribute("data-additional-text");let t=window.location.href;null!==e&&""!==e&&(t=e+"\n"+t),copyTextToClipboard(t,"Ссылка скопирована")}